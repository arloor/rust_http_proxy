{
    // https://mcr.microsoft.com/en-us/catalog?search=devcontainers
    "image": "mcr.microsoft.com/devcontainers/universal",
    "containerUser": "root", // postCreateCommand中命令需要root权限
    "remoteUser": "root",
    "privileged": true,
    "features": {
        "ghcr.io/devcontainers/features/rust:1": {}
    },
    "postCreateCommand": "mkdir -p ~/.ssh;echo \"$SSH_PRIVATE\" > ~/.ssh/id_rsa;chmod 0400 ~/.ssh/id_rsa;apt update;apt-get install -y libz-dev libelf-dev pkg-config clang", // 容器创建后的初始化命令
    "customizations": {
        "codespaces": {
            "openFiles": [
                "rust_http_proxy/rust_http_proxy/src/main.rs"
            ]
        }, // 打开的文件
        "vscode": {
            "extensions": [ // 定义要装哪些插件
                "vadimcn.vscode-lldb", // 调试插件
                "rust-lang.rust-analyzer", // rust语言支持
                "github.copilot",
                "github.vscode-github-actions", // github actions
                "tamasfe.even-better-toml", // toml格式化
                "serayuzgur.crates", // crates.io插件
                "waderyan.gitblame",
                "donjayamanne.githistory"
            ],
            "settings": {
                "files.watcherExclude": {
                    "**/target/**": true
                }
            }
        }
    }
}